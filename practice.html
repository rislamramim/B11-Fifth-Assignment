<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction History</title>
    <style>
        .disabled {
            background-color: gray;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <h2>Completed Work: <span id="work-number">0</span></h2>
    <button id="fix-button">Fix Work</button>
    <button id="clear-history">Clear History</button> <!-- Clear History Button -->

    <h3>Transaction History</h3>
    <ul id="transaction-history"></ul>

    <script>
        document.getElementById('fix-button').addEventListener('click', function(event) {
            event.preventDefault();
            
            // Complete work value increment
            const completeWork = document.getElementById("work-number").innerText;
            const convertedCompleteWork = parseInt(completeWork);
            const sum = convertedCompleteWork + 1;
            document.getElementById("work-number").innerText = sum;  
            
            // Disable the button after click
            const fixButton = document.getElementById('fix-button');     
            fixButton.disabled = true;
            fixButton.classList.add('disabled'); 

            // Call function to update transaction history
            updateTransactionHistory("Task " + sum, sum);
        });

        function updateTransactionHistory(workName, workCount) {
            const historyList = document.getElementById("transaction-history");
            const newEntry = document.createElement("li");

            // Get current date and time
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            const dateString = now.toLocaleDateString();

            // Set text content
            newEntry.innerText = `You have completed the task ${workName} on - ${dateString} at ${timeString}`;
            
            // Append new entry to the list
            historyList.appendChild(newEntry);
        }

        // Clear history function
        document.getElementById("clear-history").addEventListener("click", function() {
            document.getElementById("transaction-history").innerHTML = ""; // Clears the history list
        });
    </script>
</body>
</html>



function showAlerts() {
    alertCount++;

    if (alertCount <= 5) {
        // First 5 alerts
        alert(`âœ… Work ${alertCount} has been fixed successfully!`);
        showAlerts();
    } else if (alertCount === 6) {
        // 6th alert
    //     alert("ðŸŽ‰ You've completed 5 tasks! Now you're on the 6th task.");
        alert("ðŸ”„ Infinite Reminder: You are still working!");
    //     alertCount = 0;  // Reset alert counter
        startAlert();  // Start the infinite alert loop after the 6th task
    // }
    function showAlert() {
        showAlert("âœ… Work has been fixed successfully!");
        setTimeout(showAlert, 100);  // Calls itself again after OK
    }

}

// function startInfiniteAlert() {
//     alert("ðŸ”„ Infinite Reminder: You are still working!");
//     setTimeout(startInfiniteAlert, 100);  // Calls itself again after OK
// }
// function showAlert() {
//     alert("âœ… Work has been fixed successfully!");
//     setTimeout(showAlert, 100);  // Calls itself again after OK
// }